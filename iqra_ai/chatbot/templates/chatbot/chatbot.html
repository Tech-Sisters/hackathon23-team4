{% extends "chatbot/layout.html" %}
{% load static %}

{% block static %}
{{ block.super }}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
<link rel="stylesheet" href="{% static 'chatbot/chatbot.css' %}" type="text/css" >
{% endblock %}

{% block script %}
<script type="text/javascript">
    var lesson_words = {{ lesson_words|safe }};
    var activity = "{{ activity }}";
    var activity_name = "{{ activity_name }}";
    var activity_number = parseInt("{{ activity_number }}");
    var messages = {{ messages|safe }};
    var lesson = "{{ lesson }}";
</script>
<script src="{% static 'chatbot/chatbot.js' %}"></script>
{% endblock %}

{% block body %}

    <div class="navbar navbar-expand-lg" id="main-navbar">
    <!-- <div class="logo">
        <img src="{% static 'path/to/your/logo.png' %}" alt="Logo">
    </div> -->
    <div class="profile-button">
        <button class="btn btn-primary" id="profileDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            Profile
        </button>
        <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="profileDropdown">
            <li><a class="dropdown-item" href="#">Profile</a></li>
            <li><a class="dropdown-item" href="{% url 'logout' %}">Log out</a></li>
        </ul>
    </div>
</div>

<div class="main-container">
    <div class="sidebar">
        <h1>Welcome to Iqra.ai</h1>
        <br>
        <h2>Lesson {{ lesson }}</h1>
        <h3>{{ activity_name }}</h2>
        <hr>
        <h4>My Queue<h4>
        <ol>
            {% for word in lesson_words %}
            <li>{{ word }}</li>
            {% endfor %}
        </ol>
        
        <a class="btn btn-primary" href="{% url 'logout' %}" role="button">Log out</a>
    </div>

    <div class="chat-section">
        <div class="chat-container">
            <div class="chat-header">Chat with Iqra</div>
            <div class="chat-messages">
                <!-- Messages will be dynamically added here -->
            </div>
            <div class="start-session-container">
                <!-- Start Practice Session button will be added here -->
            </div>
            <div class="chat-input">
                <input id="userInput" type="text" placeholder="Type your message...">
                <button onclick="processUserInput()">Send</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}