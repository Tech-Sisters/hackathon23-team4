{% extends "chatbot/layout.html" %}
{% load static %}

{% block static %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'chatbot/chatbot.css' %}" type="text/css" >
{% endblock %}

{% block script %}
<script type="text/javascript">
    var activity = "{{ activity }}";
    var activity_name = "{{ activity_name }}";
    var activity_number = parseInt("{{ activity_number }}");
    var messages = {{ messages|safe }};
    var user_level = "{{ user_level }}";
    var user_lesson = parseInt("{{ user_lesson }}");
</script>
<script src="{% static 'chatbot/chatbot.js' %}"></script>
{% endblock %}

{% block body %}

<div class="main-container">
    <div class="sidebar">
        <h1>Welcome to Iqra.ai</h1>
        <hr>
        <h2>Level {{ user_level }}</h2>
        <h3>Lesson {{ user_lesson }}</h3>
        <h4>{{ activity_name }}</h4>
        <hr>
        <h5>My Queue</h5>
        <ol>
            {% for word in lesson_words %}
            <li>{{ word }}</li>
            {% endfor %}
        </ol>
        
        <a class="btn btn-primary" href="{% url 'logout' %}" role="button">Log out</a>
    </div>

    <div class="chat-section">
        <div class="chat-container">
            <div class="chat-header">Chat with Iqra</div>
            <div class="chat-messages">
                <!-- Messages will be dynamically added here -->
            </div>
            <div class="start-session-container">
                <!-- Start Practice Session button will be added here -->
            </div>
            <div class="chat-input">
                <input id="userInput" type="text" placeholder="Type your message...">
                <button onclick="processUserInput()">Send</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

{% endblock %}