{% load static %}

<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>{% block title %}Iqra.ai{% endblock %}</title>
        {% block static %}
        <link rel="stylesheet" href="{% static 'chatbot/navbar.css' %}" type="text/css" >
        {% endblock %}
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

        <script type="text/javascript">
            var csrf_token = "{{ csrf_token }}";
        </script>
        {% block script %}
        {% endblock %}
    </head>

    <body>

        {% block navbar %}
        <div class="navbar navbar-expand-lg" id="main-navbar">
            <div class="logo">
                <a href="{% url 'index' %}">
                    <img src="{% static 'iqra-ai-logo.png' %}" alt="Iqra.ai" class="logo">
                </a>
            </div>

        
            <div class="navbar-buttons ms-auto">
                {% if user.is_authenticated %}
                    {% if request.path == '/profile/' %}
                        <!-- Authenticated user on the Profile page -->
                        <a class="btn btn-secondary" href="{% url 'index' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Chatbot">
                            <i class="fa fa-comment"></i> Chatbot
                            <span class="visually-hidden">Chatbot</span>
                        </a>
                        <a class="btn btn-secondary" href="{% url 'instructions' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Instructions">
                            <i class="fa fa-book"></i> Instructions
                            <span class="visually-hidden">Instructions</span>
                        </a>
                        <a class="btn btn-secondary" href="{% url 'logout' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Logout">
                            <i class="fa fa-sign-out-alt"></i> Logout
                            <span class="visually-hidden">Logout</span>
                        </a>
                    {% elif request.path == '/instructions' %}
                        <!-- Authenticated user on the Instructions page -->
                        <a class="btn btn-secondary" href="{% url 'index' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Chatbot">
                            <i class="fa fa-comment"></i> Chatbot
                            <span class="visually-hidden">Chatbot</span>
                        </a>
                        <a class="btn btn-secondary" href="{% url 'profile' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Profile">
                            <i class="fa fa-user"></i> Profile
                            <span class="visually-hidden">Profile</span>
                        </a>
                        <a class="btn btn-secondary" href="{% url 'logout' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Logout">
                            <i class="fa fa-sign-out-alt"></i> Logout
                            <span class="visually-hidden">Logout</span>
                        </a>
                    {% else %}
                        <!-- Other authenticated pages (e.g., Chatbot page) -->
                        <a class="btn btn-secondary" href="{% url 'profile' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Profile">
                            <i class="fa fa-user"></i> Profile
                            <span class="visually-hidden">Profile</span>
                        </a>
                        <a class="btn btn-secondary" href="{% url 'instructions' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Instructions">
                            <i class="fa fa-book"></i> Instructions
                            <span class="visually-hidden">Instructions</span>
                        </a>
                        <a class="btn btn-secondary" href="{% url 'logout' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Logout">
                            <i class="fa fa-sign-out-alt"></i> Logout
                            <span class="visually-hidden">Logout</span>
                        </a>
                    {% endif %}
                {% else %}
                    <!-- Non-authenticated user -->
                    {% if request.path == '/register/' %}
                        <!-- Register page -->
                        <a class="btn btn-primary" href="{% url 'login' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Login">
                            <i class="fa fa-sign-in-alt"></i> Login
                            <span class="visually-hidden">Login</span>
                        </a>
                    {% elif request.path == '/login/' %}
                        <!-- Login page -->
                        <a class="btn btn-primary" href="{% url 'register' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Register">
                            <i class="fa fa-user-plus"></i> Register
                            <span class="visually-hidden">Register</span>
                        </a>
                    {% else %}
                        <!-- Landing page (default) -->
                        <a class="btn btn-primary" href="{% url 'register' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Register">
                            <i class="fa fa-user-plus"></i> Register
                            <span class="visually-hidden">Register</span>
                        </a>
                        <a class="btn btn-secondary" href="{% url 'login' %}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="Login">
                            <i class="fa fa-sign-in-alt"></i> Login
                            <span class="visually-hidden">Login</span>
                        </a>
                    {% endif %}
                {% endif %}
            </div>            
            
            <script>
                // Initialize tooltips
                var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
                var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                    return new bootstrap.Tooltip(tooltipTriggerEl);
                });
            </script>
            
        </div>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
        <script src="https://kit.fontawesome.com/6b7cd6507b.js" crossorigin="anonymous"></script>
        {% endblock %}
    
        {% block body %}
        {% endblock %}
    
    </body>
    
    </html>

